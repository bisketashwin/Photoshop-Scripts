// Author Ashwin Nandihalli// with help of https://forums.adobe.com/thread/933819// This lists out the Layers and Folders which have names ending with an file extention like .jpg or .png// This is useful for adobe export assets seeting cross check#target photoshopvar doc = activeDocument;var layerList = new Array()var filesExported = "";var findElem = ".";var cLayer;loopLayers(doc);saveTxt(filesExported);var oldPath = ""; function saveTxt(txt){    var Name = app.activeDocument.name.replace(/\.[^\.]+$/, '');    var Path = app.activeDocument.path;    var saveFile = File(Path + "/" + Name +".txt");    if(saveFile.exists)        saveFile.remove();    saveFile.encoding = "UTF8";    saveFile.open("e", "TEXT", "????");    saveFile.writeln(txt);    saveFile.close();}function processString(t){             var newPath = t.substr(0,t.lastIndexOf("/")) ;             if(newPath != oldPath){                 oldPath = newPath;                 //filesExported += "Folder : " + newPath+"\n";             }         var t1 = t.substr(t.lastIndexOf("/")+1, t.length);         var t2 = t1.substr(t1.lastIndexOf(" ")+1, t1.length);         if( t2.indexOf (".jpg") > -1){         var t2 = t2.substr(0,t2.lastIndexOf(".jpg")+4);         }             filesExported += t2 +"\n";    } function createList(cLayer) {     if(cLayer.name){    if(cLayer.name.indexOf (findElem) > -1)     {         var search = ",";         var replacement = "\n";           filesExported += cLayer.name.replace(new RegExp(search, 'g'), replacement) +"\n";         }  }} function createList2(cLayer) {     if(cLayer.name){    if(cLayer.name.indexOf (findElem) > -1)     {         var search = ",";         var replacement = "\n";         var files = cLayer.name.split (search);                  for (var i = 0; i<files.length; i++){                processString(files[i]);             }         }  }}function loopLayers (theParent, allLayers) {            if (!allLayers) {var allLayers = new Array}             else {};            for (var m = theParent.layers.length - 1; m >= 0;m--) {                      var theLayer = theParent.layers[m];  // apply the function to layersets;                      if (theLayer.typename == "ArtLayer") {                                allLayers.push(theLayer)                                createList2(theLayer)                              }                      else {                          createList2(theLayer)                              allLayers = (loopLayers(theLayer, allLayers))  // this line includes the layer groups;                                allLayers.push(theLayer);                                }                      };            return allLayers  }; 